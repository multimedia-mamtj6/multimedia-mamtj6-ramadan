/* General Styling */
:root {
  --primary-color: #3498db;
  --background-color: #0d1b2a;
  --text-color: #e0e1dd;
  --container-bg: #020D12;
  
}

body {
  font-family: 'Merriweather', 'Segoe UI', Arial, sans-serif;
  
  /* === LATAR BELAKANG GRADIENT BAHARU === */
background: radial-gradient(circle, rgb(9, 46, 57) 0%, rgba(2, 13, 18, 1) 85%);
  background-attachment: fixed; /* Penting untuk elak gradient bergerak semasa skrol */
  /* ===================================== */

  color: var(--text-color);
  margin: 0;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  box-sizing: border-box;
  overflow-x: hidden;
  position: relative; /* Diperlukan untuk pseudo-element berfungsi dengan betul */
}

/* === LAPISAN CORAK SEBAGAI PSEUDO-ELEMENT === */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('media/background/pattern.svg');
  background-repeat: repeat;

  /* --- KAWAL KEJELASAN CORAK DI SINI --- */
  opacity: 0.5; /* Cuba nilai antara 0.05 (sangat pudar) hingga 0.2 (lebih jelas) */
  /* ------------------------------------- */

  z-index: -1; /* Meletakkan lapisan ini di belakang semua kandungan lain */
}
/* ========================================== */

/* HEADER BAHARU */
.site-header {
  text-align: center;
  margin-bottom: 20px;
  padding-top: 20px;
}

.header-svg {
  max-width: 200px;
  height: auto;
  margin-bottom: 10px;
}

.header-subtitle {
  color: #b0f0ff;
  font-size: 2rem; /* Saiz diselaraskan kembali */
  margin: 0;
  letter-spacing: 2px;
}

.header-title {
  color: #ffffff;
  font-size: clamp(2.5rem, 10vw, 4rem);
  font-weight: 700;
  margin: 0;
  line-height: 1;
}

.header-year {
  font-size: 1.2rem;
  margin: 5px 0 0 0;
  opacity: 0.9;
}

.main-container {
  width: 100%;
  max-width: 800px;
  text-align: center;
}

/* === LEBAR TAB CONTAINER DIKEMAS KINI === */
.tab-container {
  display: flex;
  position: relative;
  background-color: var(--container-bg);
  border-radius: 50px;
  padding: 5px;
  margin: 0 auto 20px auto;
  width: 320px; /* Dilebarkan untuk teks baharu */
  border: 1px solid rgba(255, 255, 255, 0.2);
}
.tab { flex: 1; padding: 10px 15px; cursor: pointer; font-weight: 700; transition: color 0.3s ease; z-index: 2; border-radius: 50px; display: flex; align-items: center; justify-content: center;  }
.tab-slider { position: absolute; top: 5px; left: 5px; height: calc(100% - 10px); width: calc(50% - 5px); background-color: var(--primary-color); border-radius: 50px; transition: transform 0.3s ease-in-out; z-index: 1; }
.tab.active { color: white; }
.tab-container[data-active-tab="hijri"] .tab-slider { transform: translateX(100%); }

/* BEKAS PANEL UNTUK MENYELESAIKAN ISU "MELOMPAT" */
.panels-container {
  min-height: 480px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  width: 100%;
}
.content-panel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  
  /* --- Logik Transisi Baharu --- */
  opacity: 0;
  visibility: hidden;
  /* Animasikan opacity, dan tukar visibility serta-merta selepas animasi selesai */
  transition: opacity 0.4s ease-in-out, visibility 0s linear 0.4s;
}

.content-panel.active-panel {
  opacity: 1;
  visibility: visible;
  /* Animasikan opacity, dan tukar visibility serta-merta pada permulaan animasi */
  transition: opacity 0.4s ease-in-out, visibility 0s linear 0s;
}

/* === PERATURAN FADE BAHARU YANG LEBIH LICIN === */
#masihi-info-display,
#hijri-info-display,
.countdown-container {
  opacity: 0;
  transition: opacity 0.4s ease-in-out; /* Kurangkan sedikit masa untuk rasa lebih responsif */
}

/* Apabila panel menjadi aktif, paparkan kandungannya dengan efek fade */
.content-panel.active-panel .countdown-container,
.content-panel.active-panel #masihi-info-display,
.content-panel.active-panel #hijri-info-display {
  opacity: 1;
}
/* ============================================== */

#hijri-info-display, #masihi-info-display { font-size: 0.9rem; color: var(--text-color); margin-top: 40px; padding: 10px 0px 0px 10px; border: 0px solid var(--container-bg); border-radius: 8px; max-width: 650px; margin-left: auto; margin-right: auto; }

/* === GAYA BAHARU UNTUK TEKS PENAFIAN === */
.disclaimer-text {
  font-style: italic;
  font-size: 0.8rem;
  opacity: 0.7;
  margin-top: 8px; /* Ruang kecil di atas */
  padding: 0 10px;
  max-width: 650px;
  margin-left: auto;
  margin-right: auto;
}
/* ======================================= */

/* BUTANG TERAPUNG BAHARU */
.floating-btn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 60px;
  height: 60px;
  background-color: var(--primary-color);
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 999;
  transition: transform 0.2s ease, background-color 0.2s ease;
}
.floating-btn:hover { transform: scale(1.1); background-color: #2980b9; }
.floating-btn img { width: 24px; height: 24px; }

/* GAYA POPUP */
.popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 1; transition: opacity 0.3s ease; }
.popup-overlay.hidden { opacity: 0; pointer-events: none; }
.popup-content { background-color: var(--background-color); padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center; max-width: 90%; max-height: 90%; display: flex; flex-direction: column; border: 1px solid var(--container-bg); }
.popup-title { color: var(--text-color); margin-top: 0; }
#preview-image { max-width: 100%; max-height: 60vh; border-radius: 8px; margin-bottom: 20px; object-fit: contain; }
.popup-actions { display: flex; justify-content: center; gap: 15px; }
.popup-btn { padding: 10px 25px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 700; font-family: 'Merriweather', sans-serif; cursor: pointer; transition: background-color 0.2s ease; }
.popup-btn.choice { background-color: var(--container-bg); color: var(--text-color); flex-grow: 1; }
.popup-btn.choice:hover { background-color: rgba(255,255,255,0.2); }
.popup-btn.download { background-color: var(--primary-color); color: white; }
.popup-btn.download:hover { background-color: #2980b9; }
.popup-btn.cancel { background-color: #7f8c8d; color: white; }
.popup-btn.cancel:hover { background-color: #95a5a6; }

/* KIRAAN DETIK */
.countdown-container { display: flex; flex-direction: column; align-items: center; }
.days-display { font-size: clamp(8rem, 25vw, 12rem); font-weight: 700; color: var(--primary-color); line-height: 1; }
.days-label { font-size: clamp(1.5rem, 6vw, 2.5rem); margin-top: -15px; font-weight: 700; color: var(--text-color); }
.time-container { display: flex; justify-content: center; margin-top: 30px; gap: 15px; }
.time-box { text-align: center; }
.progress-ring { width: 80px; height: 80px; }
.circle-bg { fill: none; stroke: var(--container-bg); stroke-width: 8; }
.circle-progress { fill: none; stroke: var(--primary-color); stroke-width: 8; stroke-linecap: round; stroke-dasharray: 220; stroke-dashoffset: 220; transform: rotate(-90deg); transform-origin: 50% 50%; transition: stroke-dashoffset 0.5s linear; }
.time-text { font-size: 1.5rem; font-weight: 700; fill: var(--text-color); text-anchor: middle; dominant-baseline: middle; }
.label { font-size: 1rem; color: var(--text-color); opacity: 0.8; margin-top: 10px; }
.message { font-size: 2.5rem; font-weight: 700; color: #28a745; margin-top: 40px; padding: 20px; background-color: rgba(248, 249, 250, 0.9); border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: none; }

/* FOOTER BAHARU */
.site-footer {
  width: 100%;
  text-align: center;
  padding: 20px;
  margin-top: auto;
  color: var(--text-color);
  opacity: 0.7;
  font-size: 0.9rem;
}
.site-footer a { color: var(--primary-color); text-decoration: none; }
.site-footer a:hover { text-decoration: underline; }

@media (max-width: 600px) {
  body {
    padding-bottom: 100px; /* Menambah ruang di bawah untuk elak butang terapung */
  }
  .days-label { margin-top: -5px; }
  .floating-btn { bottom: 20px; right: 20px; }
  .panels-container { min-height: 420px; } /* Kurangkan min-height untuk skrin kecil */

  #hijri-info-display, 
  #masihi-info-display {
    font-size: 0.8rem; /* Kecilkan saiz fon dari 0.9rem */
    padding: 8px;      /* Kurangkan padding sedikit */
    margin-top: 30px;  /* Kurangkan ruang atas sedikit */
  }

  .header-subtitle {
  color: #b0f0ff;
  font-size: 1.3rem; /* Saiz diselaraskan kembali */
  margin: 0;
  letter-spacing: 2px;
}

}

/* === GAYA BAHARU UNTUK HALAMAN INFO === */
.info-page .main-container {
  text-align: left;
  padding-bottom: 40px;
}

.info-page .page-title {
  text-align: center;
  color: var(--primary-color);
  margin-top: 40px;
  margin-bottom: 40px;
}

.info-section {
  margin-bottom: 30px;
  line-height: 1.8;
  opacity: 0.9;
}

.info-section h3 {
  color: var(--text-color);
  border-bottom: 2px solid var(--container-bg);
  padding-bottom: 10px;
  margin-bottom: 15px;
}

.info-section ul {
  padding-left: 20px;
}

.info-section li {
  margin-bottom: 10px;
}

.info-section a:not(.info-button)  {
  color: #51a2d8;
}

.disclaimer {
  background-color: var(--container-bg);
  padding: 15px;
  border-radius: 8px;
  border-left: 4px solid var(--primary-color);
  font-size: 0.9em;
}

.info-button {
  display: inline-block;
  background-color: var(--primary-color);
  color: white;
  padding: 12px 25px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 700;
  transition: background-color 0.2s ease;
  margin-top: 10px;
}

.info-button:hover {
  background-color: #2980b9;
}

.back-link-container {
  text-align: center;
  margin-top: 50px;
}

.back-link {
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 700;
}

.back-link:hover {
  text-decoration: underline;
}
/* ===================================== */
